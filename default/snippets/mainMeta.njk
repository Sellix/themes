{% set config = global.config %}
{% set shop = global.common.shopInfo.shop %}
{% set products = global.common.shopInfo.items %}
{% set categories = global.common.shopInfo.categories %}
{% set lang = global.lang.mainMeta %}

{% if global.render.showOgMeta %}
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta property="og:site_name" content="sellix.io"/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://sellix.io/"/>

  <meta name="keywords" content="e-commerce, payment processing, digital products, digital shop, payments"/>

  <meta name='twitter:creator' content="@sellixio" />
  <meta property="twitter:card" content="summary_large_image" />
{% endif %}

{% if global.request.type === 'category' %}
  <title>{{shop.name + lang.sellixCategory}}</title>

  {% if products | length > 0 %}
    {% set productsMeta = [
      lang.productsMeta[0], shop.name, lang.productsMeta[1], (products | length), lang.productsMeta[2]
    ] | join %}
  {% else %}
    {% set productsMeta = [
      lang.productMeta[0], shop.name, lang.productMeta[1]
    ] | join %}
  {% endif %}

  <meta name="description" content="{{productsMeta}}" />

  <meta name="og:description" content="{{productsMeta}}" />
  <meta name="og:title" content="{{shop.name}}'s categories on Sellix" />

  <meta name="twitter:title" content="{{shop.name}}'s categories on Sellix" />
  <meta name="twitter:description" content="{{productsMeta}}" />
  <meta name='twitter:site' content="https://{{shop.name}}.sellix.io/"/>

  <meta property="og:image" content="{{config.CDN_PREVIEWS_URL}}/categories.png" />
  <meta property="twitter:image" content="{{config.CDN_PREVIEWS_URL}}/categories.png" />
  <meta property="twitter:card" content="summary_large_image" />

  <meta name="robots" content="noindex" />
{% elif global.request.type === 'group' %}
  <title>{{shop.name + lang.sellixGroup}}</title>
  {% if products | length > 0 %}
    {% set productsMeta = [
      lang.productsMeta[0], shop.name, lang.productsMeta[1], (products | length), lang.productsMeta[2]
    ] | join %}
  {% else %}
    {% set productsMeta = [
      lang.productMeta[0], shop.name, lang.productMeta[1]
    ] | join %}
  {% endif %}

  <meta name="description" content="{{productsMeta}}" />

  <meta name="og:description" content="{{productsMeta}}" />
  <meta name="og:title" content="{{shop.name}}'s group on Sellix" />

  <meta name="twitter:title" content="{{shop.name}}'s group on Sellix" />
  <meta name="twitter:description" content="{{productMeta}}" />
  <meta name='twitter:site' content="https://{{shop.name}}.sellix.io"/>

  <meta property="og:image" content="{{config.CDN_PREVIEWS_URL}}/group.png" />
  <meta property="twitter:image" content="{{config.CDN_PREVIEWS_URL}}/group.png" />
  <meta property="twitter:card" content="summary_large_image" />

  <meta name="robots" content="noindex" />

{% elif global.request.type === 'track' %}
{# TODO: client/entrypoints/shop/layout/head.js #}
{% elif global.request.type === 'invoice' %}
{# TODO: client/entrypoints/shop/layout/head.js #}
{% elif global.request.type === 'bill' %}
{# TODO: client/entrypoints/shop/layout/head.js #}
{% elif global.request.type === 'payment' %}
{# TODO: client/entrypoints/shop/layout/head.js #}
{% elif global.request.type === 'subscription' %}
{# TODO: client/entrypoints/shop/layout/head.js #}
{% elif global.request.type === 'delivery' %}
{# TODO: client/entrypoints/shop/layout/head.js #}
{% elif global.request.type === 'subscription_delivery' %}
{# TODO: client/entrypoints/shop/layout/head.js #}
{% endif %}

{% if pageSettings.title %}
  <title>{{ pageSettings.title }}</title>
{% else %}
  <title>{{ lang.pageTitle[0] + global.common.shopInfo.shop.name + lang.pageTitle[1]}}</title>
{% endif %}

{% if pageSettings.meta_tags | length %}
  {% for meta_tag in pageSettings.meta_tags %}
    <meta {% if meta_tag.name %}name="{{meta_tag.name}}" {% elif meta_tag.property %}property="{{meta_tag.property}}"{% endif %}
          content="{{meta_tag.content}}" />
  {% endfor %}
{% endif %}
