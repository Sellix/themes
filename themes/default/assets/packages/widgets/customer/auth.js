var CustomerAuth=function(e,t,n){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=o(t),a=o(n);function i(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}i("");i("");const s={i18n:{t:e=>e}},l=r.default.createContext(s),u=()=>t.useContext(l),c={i18n:{t:e=>e}};function d({children:e,i18n:t}){return r.default.createElement(l.Provider,{value:{i18n:t||c.i18n}},e)}const h={config:{},options:{},theme:{},shopId:{},onCustomerAuthEmail:()=>{},onCustomerAuthCode:()=>{},onShowMessage:()=>{},onBackToShop:()=>window.location.href="/",onCompleteAuth:()=>window.location.href="/customer/dashboard"},p=r.default.createContext(h),f=({config:e,theme:t,onBackToShop:n,onCustomerAuthEmail:o,onCustomerAuthCode:a,onShowMessage:i,options:s,onCompleteAuth:l,shopId:u,children:c})=>r.default.createElement(p.Provider,{value:{config:e||h.config,shopId:u||h.shopId,theme:t||h.theme,onCompleteAuth:l||h.onCompleteAuth,onBackToShop:n||h.onBackToShop,onCustomerAuthEmail:o||h.onCustomerAuthEmail,onCustomerAuthCode:a||h.onCustomerAuthCode,onShowMessage:i||h.onShowMessage,options:s||h.options}},c);class m extends t.Component{constructor(e){super(e);const{fields:t,type:n,isValid:o,disabled:r,filterKeyCodes:a,forceUppercase:i}=e;let{value:s}=e;i&&(s=s.toUpperCase()),this.state={value:s,fields:t,type:n,input:[],isValid:o,disabled:r,filterKeyCodes:a,defaultInputStyle:{fontFamily:"monospace",MozAppearance:"textfield",borderRadius:"6px",border:"1px solid",boxShadow:"0px 0px 10px 0px rgba(0,0,0,.10)",margin:"4px",paddingLeft:"8px",paddingRight:0,width:"36px",height:"42px",fontSize:"32px",boxSizing:"border-box"}};for(let e=0;e<Number(this.state.fields);e+=1)if(e<32){const t=this.state.value[e]||"";this.state.input.push(t)}this.textInput=[],this.uuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}UNSAFE_componentWillReceiveProps(e){this.setState({isValid:e.isValid,value:e.value,disabled:e.disabled})}handleBlur(e){this.handleTouch(e.target.value)}handleTouch(e){const{touch:t,untouch:n,name:o}=this.props;"function"==typeof t&&"function"==typeof n&&(""===e?t(o):n(o))}handleChange(e){const{filterChars:t,filterCharsIsWhitelist:n}=this.props;let o=String(e.target.value);this.props.forceUppercase&&(o=o.toUpperCase()),"number"===this.state.type&&(o=o.replace(/[^\d]/g,"")),o=o.split("").filter((e=>n?t.includes(e):!t.includes(e))).join("");let r=o;if(""!==o){const t=this.state.input.slice();o.length>1?o.split("").map(((n,o)=>(Number(e.target.dataset.id)+o<this.props.fields&&(t[Number(e.target.dataset.id)+o]=n),!1))):t[Number(e.target.dataset.id)]=o,t.map(((e,t)=>(this.textInput[t]&&(this.textInput[t].value=e),!1)));const n=this.textInput[e.target.dataset.id<t.length?Number(e.target.dataset.id)+1:e.target.dataset.id];n&&(n.focus(),n.select()),r=t.join(""),this.setState({value:t.join(""),input:t})}this.props.onChange&&r&&this.props.onChange(r),this.handleTouch(r)}handleKeyDown(e){const t=Number(e.target.dataset.id),n=this.textInput[t+1],o=this.textInput[t-1];let r,a;switch(this.state.filterKeyCodes.length>0&&this.state.filterKeyCodes.map((t=>{if(t===e.keyCode)return e.preventDefault(),!0})),e.keyCode){case 8:e.preventDefault(),this.textInput[t].value="",r=this.state.input.slice(),r[t]="",a=r.join(""),this.setState({value:a,input:r}),""===this.textInput[t].value&&o&&(o.focus(),o.select()),this.props.onChange&&this.props.onChange(a);break;case 37:e.preventDefault(),o&&(o.focus(),o.select());break;case 39:e.preventDefault(),n&&(n.focus(),n.select());break;case 38:case 40:e.preventDefault();break;case 69:if("number"===e.target.type){e.preventDefault();break}}this.handleTouch(a)}render(){const{className:e,style:t={},inputStyle:n={},inputStyleInvalid:o={},type:a,autoFocus:i,autoComplete:s,pattern:l,inputMode:u,placeholder:c}=this.props,{disabled:d,input:h,isValid:p,defaultInputStyle:f}=this.state,m={container:{display:"inline-block",...t},input:p?n:o};return e||0!==Object.keys(n).length||Object.assign(n,{...f,color:"black",backgroundColor:"white",borderColor:"lightgrey"}),e||0!==Object.keys(o).length||Object.assign(o,{...f,color:"#b94a48",backgroundColor:"#f2dede",borderColor:"#eed3d7"}),d&&Object.assign(m.input,{cursor:"not-allowed",color:"lightgrey",borderColor:"lightgrey",backgroundColor:"#efeff1"}),r.default.createElement("div",{className:`react-code-input ${e}`,style:m.container},h.map(((e,t)=>r.default.createElement("input",{ref:e=>{this.textInput[t]=e},id:`${this.uuid}-${t}`,"data-id":t,autoFocus:i&&0===t?"autoFocus":"",value:e,key:`input_${t}`,type:a,min:0,max:9,maxLength:h.length===t+1?1:h.length,style:m.input,autoComplete:s,onFocus:e=>e.target.select(e),onBlur:e=>this.handleBlur(e),onChange:e=>this.handleChange(e),onKeyDown:e=>this.handleKeyDown(e),disabled:d,"data-valid":p,pattern:l,inputMode:u,placeholder:c}))))}}m.defaultProps={autoComplete:"off",autoFocus:!0,isValid:!0,disabled:!1,forceUppercase:!1,fields:4,value:"",type:"text",filterKeyCodes:[189,190],filterChars:["-","."],filterCharsIsWhitelist:!1},m.propTypes={type:a.default.oneOf(["text","number","password","tel"]),fields:a.default.number,placeholder:a.default.string,value:a.default.string,onChange:a.default.func,name:a.default.string,touch:a.default.func,untouch:a.default.func,className:a.default.string,isValid:a.default.bool,disabled:a.default.bool,style:a.default.object,inputStyle:a.default.object,inputStyleInvalid:a.default.object,autoComplete:a.default.string,autoFocus:a.default.bool,forceUppercase:a.default.bool,filterKeyCodes:a.default.array,filterChars:a.default.array,filterCharsIsWhitelist:a.default.bool,pattern:a.default.string,inputMode:a.default.oneOf(["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"])};const y=e=>{const{i18n:t}=u();return r.default.createElement("div",{className:"sellix-product-form"},r.default.createElement("div",{className:"pb-3"},r.default.createElement("label",{className:"sellix-label"},t.t("shop.checkout.purchaseDetails.codeAuthForm.title")),r.default.createElement("span",{className:"sellix-note pb-2"},t.t("shop.checkout.purchaseDetails.codeAuthForm.message")),r.default.createElement(m,{type:"number",fields:8,onChange:t=>{e.setCode(t)},value:e.code})),e.skipFields?null:r.default.createElement("div",{className:"sellix-product-form-field"},r.default.createElement("label",{className:"sellix-label"},"First Name"),r.default.createElement("input",{type:"text",onChange:t=>e.setFirstName(t.target.value),value:e.firstname,placeholder:t.t("shop.checkout.purchaseDetails.codeAuthForm.firstName"),required:!0,className:"sellix-input"})),e.skipFields?null:r.default.createElement("div",{className:"sellix-product-form-field"},r.default.createElement("label",{className:"sellix-label"},"Last Name"),r.default.createElement("input",{type:"text",onChange:t=>e.setLastName(t.target.value),value:e.lastname,placeholder:t.t("shop.checkout.purchaseDetails.codeAuthForm.lastName"),required:!0,className:"sellix-input"})))};var g={};function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}Object.defineProperty(g,"__esModule",{value:!0}),g.Collapse=void 0;var k,C=(k=r.default)&&k.__esModule?k:{default:k};function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=L(e);if(t){var r=L(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,n,o,r=x(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),N(O(t=r.call(this,e)),"timeout",void 0),N(O(t),"container",void 0),N(O(t),"content",void 0),N(O(t),"onResize",(function(){if(clearTimeout(t.timeout),t.container&&t.content){var e=t.props,n=e.isOpened,o=e.checkTimeout,r=Math.floor(t.container.clientHeight),a=Math.floor(t.content.clientHeight),i=n&&Math.abs(a-r)<=1,s=!n&&Math.abs(r)<=1;i||s?t.onRest({isFullyOpened:i,isFullyClosed:s,isOpened:n,containerHeight:r,contentHeight:a}):(t.onWork({isFullyOpened:i,isFullyClosed:s,isOpened:n,containerHeight:r,contentHeight:a}),t.timeout=setTimeout((function(){return t.onResize()}),o))}})),N(O(t),"onRest",(function(e){var n=e.isFullyOpened,o=e.isFullyClosed,r=e.isOpened,a=e.containerHeight,i=e.contentHeight;if(t.container&&t.content){var s=r&&t.container.style.height==="".concat(i,"px"),l=!r&&"0px"===t.container.style.height;if(s||l){t.container.style.overflow=r?"initial":"hidden",t.container.style.height=r?"auto":"0px";var u=t.props.onRest;u&&u({isFullyOpened:n,isFullyClosed:o,isOpened:r,containerHeight:a,contentHeight:i})}}})),N(O(t),"onWork",(function(e){var n=e.isFullyOpened,o=e.isFullyClosed,r=e.isOpened,a=e.containerHeight,i=e.contentHeight;if(t.container&&t.content){var s=r&&t.container.style.height==="".concat(i,"px"),l=!r&&"0px"===t.container.style.height;if(!s&&!l){t.container.style.overflow="hidden",t.container.style.height=r?"".concat(i,"px"):"0px";var u=t.props.onWork;u&&u({isFullyOpened:n,isFullyClosed:o,isOpened:r,containerHeight:a,contentHeight:i})}}})),N(O(t),"onRefContainer",(function(e){t.container=e})),N(O(t),"onRefContent",(function(e){t.content=e})),e.initialStyle?t.initialStyle=e.initialStyle:t.initialStyle=e.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.theme,o=t.isOpened;return t.children!==e.children||o!==e.isOpened||Object.keys(n).some((function(t){return n[t]!==e.theme[t]}))}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if("auto"===this.container.style.height){var e=this.content.clientHeight;this.container.style.height="".concat(e,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.children,o=e.isOpened;return C.default.createElement("div",{ref:this.onRefContainer,className:t.collapse,style:this.initialStyle,"aria-hidden":!o},C.default.createElement("div",{ref:this.onRefContent,className:t.content},n))}}])&&b(t.prototype,n),o&&b(t,o),a}(C.default.Component);g.Collapse=j,N(j,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50});var S={};function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}Object.defineProperty(S,"__esModule",{value:!0}),S.UnmountClosed=void 0;var R=function(e){return e&&e.__esModule?e:{default:e}}(r.default),W=g,_=["isOpened"],A=["isOpened"];function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},T.apply(this,arguments)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=$(e);if(t){var r=$(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return V(this,n)}}function V(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(a,e);var t,n,o,r=B(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),K(U(t=r.call(this,e)),"onWork",(function(e){var n=e.isOpened,o=I(e,_);t.setState({isResting:!1,isOpened:n});var r=t.props.onWork;r&&r(D({isOpened:n},o))})),K(U(t),"onRest",(function(e){var n=e.isOpened,o=I(e,A);t.setState({isResting:!0,isOpened:n,isInitialRender:!1});var r=t.props.onRest;r&&r(D({isOpened:n},o))})),K(U(t),"getInitialStyle",(function(){var e=t.state,n=e.isOpened;return e.isInitialRender&&n?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}})),t.state={isResting:!0,isOpened:e.isOpened,isInitialRender:!0},t}return t=a,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.isOpened;e.isOpened!==t&&this.setState({isResting:!1,isOpened:t,isInitialRender:!1})}},{key:"render",value:function(){var e=this.state,t=e.isResting,n=e.isOpened;return t&&!n?null:R.default.createElement(W.Collapse,T({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}])&&H(t.prototype,n),o&&H(t,o),a}(R.default.PureComponent);S.UnmountClosed=z,K(z,"defaultProps",{onWork:void 0,onRest:void 0});var Z=g.Collapse,q=S.UnmountClosed;q.Collapse=Z,q.UnmountClosed=q;i("");function J(){return J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},J.apply(this,arguments)}i("");i("");const Y=({width:e=20,height:t=20,className:n,style:o})=>r.default.createElement("svg",{width:e,height:t,className:n,style:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M7.5 10H12.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M10 7.5V12.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),G=({width:e=20,height:t=20,className:n,style:o})=>r.default.createElement("svg",{width:e,height:t,className:n,style:o,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M4.16675 10H15.8334",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M10.8333 15L15.8333 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M10.8333 5L15.8333 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),Q=({width:e=20,height:t=20,className:n,style:o})=>r.default.createElement("svg",{width:e,height:t,className:n,style:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M7.5 10L9.16667 11.6667L12.5 8.33333",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),X=({width:e=20,height:t=20,className:n,style:o})=>r.default.createElement("svg",{width:e,height:t,className:n,style:{...o,transform:"scale(1.25)"},viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M9 15.75C12.7279 15.75 15.75 12.7279 15.75 9C15.75 5.27208 12.7279 2.25 9 2.25C5.27208 2.25 2.25 5.27208 2.25 9C2.25 12.7279 5.27208 15.75 9 15.75Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M6.75 9H11.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M9 6.75V11.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),ee=({width:e=20,height:t=20,className:n,style:o})=>r.default.createElement("svg",{width:e,height:t,className:n,style:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M9.81567 10.3947L16.1315 6.44737",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M3.5 6.44737L9.81579 10.3947V17.5L16.1316 13.5526V6.44737L9.81579 2.5L3.5 6.44737Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M3.5 6.44737V13.5526L9.81579 17.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),te=({width:e=20,height:t=20,className:n,style:o})=>r.default.createElement("svg",{width:e,height:t,className:n,style:o,viewBox:"0 0 20 20",fill:"null",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M5.83333 6.66666L2.5 10L5.83333 13.3333",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M14.1667 6.66666L17.5001 10L14.1667 13.3333",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M11.6666 3.33334L8.33325 16.6667",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),ne=({width:e=20,height:t=20,className:n,style:o})=>r.default.createElement("svg",{width:e,height:t,className:n,style:o,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M10 4.16667V15.8333",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M4.16675 10H15.8334",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),oe=({width:e=20,height:t=20,className:n,style:o})=>r.default.createElement("svg",{width:e,height:t,className:n,style:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M3.375 9.16667C3.58574 7.55895 4.37518 6.08315 5.59557 5.01552C6.81595 3.94789 8.38359 3.36163 10.0051 3.36647C11.6265 3.37132 13.1906 3.96695 14.4046 5.04186C15.6186 6.11677 16.3992 7.59726 16.6003 9.20621C16.8014 10.8152 16.4093 12.4423 15.4972 13.7829C14.5852 15.1236 13.2158 16.0859 11.6455 16.4897C10.0751 16.8935 8.41136 16.7112 6.96573 15.9768C5.5201 15.2424 4.39166 14.0064 3.79167 12.5M3.375 16.6667V12.5H7.54167",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),re=({width:e=20,height:t=20,className:n,style:o})=>r.default.createElement("svg",{width:e,height:t,className:n,style:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M3.33325 14.1667V15.8333C3.33325 16.2754 3.50885 16.6993 3.82141 17.0118C4.13397 17.3244 4.55789 17.5 4.99992 17.5H14.9999C15.4419 17.5 15.8659 17.3244 16.1784 17.0118C16.491 16.6993 16.6666 16.2754 16.6666 15.8333V14.1667",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M5.83325 7.5L9.99992 3.33333L14.1666 7.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M10 3.33333V13.3333",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),ae=({width:e=20,height:t=20,className:n,style:o})=>r.default.createElement("svg",{width:e,height:t,className:n,style:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M11.6667 2.5V5.83333C11.6667 6.05435 11.7545 6.26631 11.9108 6.42259C12.0671 6.57887 12.2791 6.66667 12.5001 6.66667H15.8334",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M14.1667 17.5H5.83341C5.39139 17.5 4.96746 17.3244 4.6549 17.0118C4.34234 16.6993 4.16675 16.2754 4.16675 15.8333V4.16667C4.16675 3.72464 4.34234 3.30072 4.6549 2.98816C4.96746 2.67559 5.39139 2.5 5.83341 2.5H11.6667L15.8334 6.66667V15.8333C15.8334 16.2754 15.6578 16.6993 15.3453 17.0118C15.0327 17.3244 14.6088 17.5 14.1667 17.5Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M7.5 5.83333H8.33333",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M7.5 10.8333H12.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M10.8333 14.1667H12.4999",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),ie=({width:e=20,height:t=20,className:n,style:o})=>r.default.createElement("svg",{width:e,height:t,className:n,style:o,fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M7.74375 3.23775C8.06325 1.92075 9.93675 1.92075 10.2563 3.23775C10.3042 3.4356 10.3982 3.61933 10.5305 3.774C10.6629 3.92867 10.8299 4.04989 11.018 4.12781C11.2061 4.20573 11.4099 4.23814 11.6128 4.2224C11.8158 4.20667 12.0122 4.14323 12.186 4.03725C13.3432 3.33225 14.6685 4.65675 13.9635 5.81475C13.8577 5.98849 13.7943 6.18475 13.7786 6.38758C13.7629 6.59041 13.7953 6.79408 13.8731 6.98203C13.951 7.16999 14.0721 7.33693 14.2265 7.46929C14.381 7.60164 14.5646 7.69568 14.7623 7.74375C16.0793 8.06325 16.0793 9.93675 14.7623 10.2563C14.5644 10.3042 14.3807 10.3982 14.226 10.5305C14.0713 10.6629 13.9501 10.8299 13.8722 11.018C13.7943 11.2061 13.7619 11.4099 13.7776 11.6128C13.7933 11.8158 13.8568 12.0122 13.9628 12.186C14.6678 13.3432 13.3432 14.6685 12.1852 13.9635C12.0115 13.8577 11.8152 13.7943 11.6124 13.7786C11.4096 13.7629 11.2059 13.7953 11.018 13.8731C10.83 13.951 10.6631 14.0721 10.5307 14.2265C10.3984 14.381 10.3043 14.5646 10.2563 14.7623C9.93675 16.0793 8.06325 16.0793 7.74375 14.7623C7.69581 14.5644 7.60183 14.3807 7.46947 14.226C7.3371 14.0713 7.17008 13.9501 6.98201 13.8722C6.79394 13.7943 6.59013 13.7619 6.38716 13.7776C6.1842 13.7933 5.98781 13.8568 5.814 13.9628C4.65675 14.6678 3.3315 13.3432 4.0365 12.1852C4.14233 12.0115 4.20566 11.8152 4.22136 11.6124C4.23706 11.4096 4.20468 11.2059 4.12685 11.018C4.04903 10.83 3.92795 10.6631 3.77345 10.5307C3.61896 10.3984 3.43542 10.3043 3.23775 10.2563C1.92075 9.93675 1.92075 8.06325 3.23775 7.74375C3.4356 7.69581 3.61933 7.60183 3.774 7.46947C3.92867 7.3371 4.04989 7.17008 4.12781 6.98201C4.20573 6.79394 4.23814 6.59013 4.2224 6.38716C4.20667 6.1842 4.14323 5.98781 4.03725 5.814C3.33225 4.65675 4.65675 3.3315 5.81475 4.0365C6.56475 4.4925 7.53675 4.089 7.74375 3.23775Z",stroke:"#555D67",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M9 11.25C10.2426 11.25 11.25 10.2426 11.25 9C11.25 7.75736 10.2426 6.75 9 6.75C7.75736 6.75 6.75 7.75736 6.75 9C6.75 10.2426 7.75736 11.25 9 11.25Z",stroke:"#555D67",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),se=({width:e=20,height:t=20,className:n,style:o})=>r.default.createElement("svg",{width:e,height:t,className:n,style:o,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M3 5.25H15",stroke:"#D24242",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M7.5 8.25V12.75",stroke:"#D24242",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M10.5 8.25V12.75",stroke:"#D24242",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M3.75 5.25L4.5 14.25C4.5 14.6478 4.65804 15.0294 4.93934 15.3107C5.22064 15.592 5.60218 15.75 6 15.75H12C12.3978 15.75 12.7794 15.592 13.0607 15.3107C13.342 15.0294 13.5 14.6478 13.5 14.25L14.25 5.25",stroke:"#D24242",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M6.75 5.25V3C6.75 2.80109 6.82902 2.61032 6.96967 2.46967C7.11032 2.32902 7.30109 2.25 7.5 2.25H10.5C10.6989 2.25 10.8897 2.32902 11.0303 2.46967C11.171 2.61032 11.25 2.80109 11.25 3V5.25",stroke:"#D24242",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),le=({size:e="medium",variant:n="primary",type:o="button",iconPosition:a="right",iconName:i,className:s,children:l,style:u,skip:c,square:d,...h})=>{const[p,f]=t.useState(null);t.useEffect((()=>{let e=!1,t=!1,n=document.createElement("span");if([...document.body.classList].includes("dark"),!p)return;const o=o=>{if(2===o.button||!n.animate)return!1;e=!0,n.classList.add("ripple-effect");let r=p.getBoundingClientRect(),a=o.x-r.left,i=o.y-r.top,s=Math.max(r.width,r.height)*Math.PI*1.5;n.style.left=`${a}px`,n.style.top=`${i}px`,n.style.backgroundColor="white",n.style.opacity="0.175",t||(t=!0,p.appendChild(n)),n.animate({height:["0px",`${s}px`],width:["0px",`${s}px`]},{duration:700}).onfinish=()=>{n.style.width=`${s}px`,n.style.height=`${s}px`}},r=()=>{if(!e)return;n.animate({opacity:[.175,0]},{duration:700/3}).onfinish=()=>{t&&(t=!1,n.remove())}},a=()=>{if(!e||!n.animate)return;e=!1,n.animate({opacity:[.175,0]},{duration:700/3}).onfinish=()=>{t&&(t=!1,n.remove())}};return p.addEventListener("mousedown",o),p.addEventListener("mouseup",a),p.addEventListener("mouseover",r),()=>{p.removeEventListener("mousedown",o),p.removeEventListener("mouseup",a),p.removeEventListener("mouseover",r)}}),[p,c]);const m=["button",e,n];s&&m.push(s);const y={};"right"===a?y.marginLeft="0.5rem":y.marginRight="0.5rem";let g=null;switch(i){case"plus":g=r.default.createElement(ne,{className:"icon",style:y});break;case"arrow":g=r.default.createElement(G,{className:"icon",style:y});break;case"cube":g=r.default.createElement(ee,{className:"icon",style:y});break;case"embed":g=r.default.createElement(te,{className:"icon",style:y});break;case"upload":g=r.default.createElement(re,{className:"icon",style:y});break;case"refresh":g=r.default.createElement(oe,{className:"icon",style:y});break;case"add-circular":g=r.default.createElement(Y,{className:"icon",style:y});break;case"check-circular":g=r.default.createElement(Q,{className:"icon",style:y});break;case"plus-circular":g=r.default.createElement(X,{className:"icon",style:y});break;case"invoice":g=r.default.createElement(ae,{className:"icon",style:y});break;case"settings":g=r.default.createElement(ie,{className:"icon",style:y});break;case"delete":g=r.default.createElement(se,{className:"icon",style:y})}return g&&m.push("withIcon"),d&&m.push("square"),r.default.createElement("button",J({type:o,style:u,className:m.join(" ")},h,{ref:f}),"left"===a&&g,l,"right"===a&&g)};
/*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   */
var ue=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},o=t||{},r=e.split(";"),a=o.decode||de,i=0;i<r.length;i++){var s=r[i],l=s.indexOf("=");if(!(l<0)){var u=s.substring(0,l).trim();if(null==n[u]){var c=s.substring(l+1,s.length).trim();'"'===c[0]&&(c=c.slice(1,-1)),n[u]=fe(c,a)}}}return n},ce=function(e,t,n){var o=n||{},r=o.encode||he;if("function"!=typeof r)throw new TypeError("option encode is invalid");if(!pe.test(e))throw new TypeError("argument name is invalid");var a=r(t);if(a&&!pe.test(a))throw new TypeError("argument val is invalid");var i=e+"="+a;if(null!=o.maxAge){var s=o.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(s)}if(o.domain){if(!pe.test(o.domain))throw new TypeError("option domain is invalid");i+="; Domain="+o.domain}if(o.path){if(!pe.test(o.path))throw new TypeError("option path is invalid");i+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires="+o.expires.toUTCString()}o.httpOnly&&(i+="; HttpOnly");o.secure&&(i+="; Secure");if(o.sameSite){switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return i},de=decodeURIComponent,he=encodeURIComponent,pe=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function fe(e,t){try{return t(e)}catch(t){return e}}function me(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var ye=function(){return ye=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ye.apply(this,arguments)},ge=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?ue(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=ue(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),me(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var o in this.cookies)n[o]=me(this.cookies[o],e);return n},e.prototype.set=function(e,t,n){var o;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=ye(ye({},this.cookies),((o={})[e]=t,o)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=ce(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=ye(ye({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=ye({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=ce(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();function ve(){let e="local-test-sellix.com";return window.location.hostname.includes("sellix-staing.gg")?e="sellix-staing.gg":window.location.hostname.includes("mysellix.io")&&(e="mysellix.io"),e}i("");const ke=({purple:e,big:t})=>r.default.createElement("div",{className:`sk-circle-fade ${e?"purple":""} ${t?"big":""}`},r.default.createElement("div",{className:"sk-circle-fade-dot"}),r.default.createElement("div",{className:"sk-circle-fade-dot"}),r.default.createElement("div",{className:"sk-circle-fade-dot"}),r.default.createElement("div",{className:"sk-circle-fade-dot"}),r.default.createElement("div",{className:"sk-circle-fade-dot"}),r.default.createElement("div",{className:"sk-circle-fade-dot"}),r.default.createElement("div",{className:"sk-circle-fade-dot"}),r.default.createElement("div",{className:"sk-circle-fade-dot"}),r.default.createElement("div",{className:"sk-circle-fade-dot"}),r.default.createElement("div",{className:"sk-circle-fade-dot"}),r.default.createElement("div",{className:"sk-circle-fade-dot"}),r.default.createElement("div",{className:"sk-circle-fade-dot"}));i("");const Ce=()=>{const{i18n:e}=u(),{onCustomerAuthEmail:n,onCustomerAuthCode:o,onShowMessage:a,onCompleteAuth:i,shopId:s}=t.useContext(p),[l,c]=t.useState(""),[d,h]=t.useState(""),[f,m]=t.useState(""),[g,v]=t.useState(""),{setCookies:k}=function(){const e=t.useMemo((()=>new ge),[]);return{setCookies:t.useCallback(((t,n="customerToken")=>{let o={path:"/",expires:new Date((new Date).getFullYear()+1,1,1,1,1,1,0),sameSite:"lax",secure:!window.location.hostname.includes("local-test-sellix.com")};[`.customer-portal.${ve()}`,window.location.hostname].forEach((r=>{e.set(n,t,{domain:r,...o})}))}),[e]),removeCookies:t.useCallback(((t="customerToken")=>{let n={path:"/",expires:new Date(2e3,1,1,1,1,1,0),sameSite:"lax",secure:!1};[`.customer-portal.${ve()}`,window.location.hostname].forEach((o=>{e.set(t,"",{domain:o,...n})}))}),[e])}}(),[C,b]=t.useState(!0),[w,x]=t.useState(!1),[E,O]=t.useState(null),[L,N]=t.useState(!1),j=t.useCallback((async()=>{try{x(!0);const t={email:E,shop_id:s};let{data:o,status:r,error:i}=await n(t);200===r?(o&&o.fields_required&&b(!1),N(!0)):a({type:"error",text:i||e.t("shop.shared.titles.serverError")})}catch(t){a({type:"error",text:(t?t.error||t.message:"")||e.t("shop.shared.titles.serverError")})}finally{x(!1)}}),[E,s]),S=t.useCallback((async()=>{try{x(!0);let t={email:E,code:g,shop_id:s};C||(t.name=d,t.surname=f);let{data:n,status:r,error:l}=await o(t);200===r?(k(n.token),n.token&&i()):a({type:"error",text:l||e.t("shop.shared.titles.serverError")})}catch(t){a({type:"error",text:(t?t.error||t.message:"")||e.t("shop.shared.titles.serverError")})}finally{x(!1)}}),[E,g,s,C,d,f]);return t.useEffect((()=>{document.title=e.t("customer.auth.customerAuth.pageTitle")}),[]),t.useEffect((()=>{N(!1),v(""),b(!0)}),[E]),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"sellix-customer-auth-block"},r.default.createElement("div",{className:"sellix-customer-auth-block-header"},r.default.createElement("div",{className:"sellix-customer-auth-block-header-title"},L&&E?e.t("customer.auth.customerAuth.email.valid.title"):e.t("customer.auth.customerAuth.email.invalid.title")),r.default.createElement("div",{className:"sellix-customer-auth-block-header-subtitle"},L&&E?e.t("customer.auth.customerAuth.email.valid.message"):e.t("customer.auth.customerAuth.email.invalid.message"))),r.default.createElement("div",{className:"sellix-customer-auth-block-form"},r.default.createElement("div",{className:"d-flex flex-column w-100"},r.default.createElement("div",{className:"sellix-customer-auth-block-email"},r.default.createElement("div",{className:"pb-3 w-100"},r.default.createElement("label",{htmlFor:"email",className:"sellix-label"},e.t("customer.auth.customerAuth.email.title")),r.default.createElement("input",{id:"email",type:"text",name:"email",style:{height:"3rem"},onChange:e=>{O(e.target.value)},onBlur:()=>c(!0),value:E,placeholder:e.t("customer.auth.customerAuth.email.placeholder"),className:"sellix-input "+(!E&&l?"is-invalid":"")}),!E&&l&&r.default.createElement("div",{className:"text-left invalid-feedback"},e.t("customer.auth.customerAuth.email.isRequired"))),L?null:r.default.createElement(le,{variant:"primary",size:"medium",className:"ml-3",style:{height:"3rem",marginTop:"1.75rem"},disabled:w||!E,onClick:j},w?r.default.createElement(ke,null):e.t("customer.auth.customerAuth.login"))),L&&E?r.default.createElement(y,{setFirstName:h,setLastName:m,setCode:v,firstname:d,lastname:f,code:g,skipFields:C}):null,L&&E?r.default.createElement(le,{className:"next",onClick:S},w?r.default.createElement(ke,null):e.t("customer.auth.customerAuth.continue")):null))),r.default.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},r.default.createElement("div",{id:"customer-auth-recaptcha-v2"})))};return e.CustomerAuth=e=>r.default.createElement(f,e,r.default.createElement(d,{i18n:e.sellixI18Next},r.default.createElement(Ce,null))),Object.defineProperty(e,"__esModule",{value:!0}),e}({},React,PropTypes);
