{% set id = uid() %}
{% set shop = global.common.shopInfo.shop %}
{% set rating = args.rating %}
{% set size = safe_get(args.size, 25) %}
{% set iconsCount = safe_get(args.iconsCount, 5) %}
{% set color = safe_get(args.color, '#FCAB06') %}
{% set readonly = safe_get(args.readonly, true) %}

<style>
  #rating-widget-{{id}} span {
    display: flex!important;
  }
</style>
<div id='rating-widget-{{id}}'></div>

<script type='application/javascript'>
  $(document).ready(function () {
    const domContainer = document.querySelector('#rating-widget-{{id}}');
    ReactDOM.render(
      React.createElement(ReactSimpleStarRating.Rating, {
        ratingValue: Number({{rating / 5 * 100 if rating else 0}}),
        initialValue: Number({{rating / 5 * 100 if rating else 0}}),
        className: 'sellix-rating-stars',
        fillColor: '{{ color }}',
        emptyColor: 'grey',
        size: {{ size }},
        iconsCount: {{ args.iconsCount or 5 }},
        readonly: {{ readonly }},
      }),
      domContainer,
    );
  });
</script>
